<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>
      Label Overlay Example
    </title>
    <!-- <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script> -->
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCb1xprYSpXd0q_yDsJ1W2UGhfl9_YGKU0&callback=initMap&libraries=&v=weekly" type="text/javascript"></script>
 
    <!-- <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script> -->
    <!-- <script type="text/javascript" src="label.js"></script> -->
  </head>
  <body  onload="initialize()">
    <div id="map_canvas" style="height: 500px; width: 500px"></div>
    <button type="button" onclick="showHideMarker();">Show/Hide Marker</button>
    <button type="button" onclick="pinUnpinMarker();">Pin/Unpin Marker</button>

    <span>location:</span><input type="text" id="txtautocomplete" style="width: 200px;" placeholder="Enter Th add">
    <label id="lblresult"></label>

    <label id="test"></label>
    <script type="text/javascript">
      var marker;

      // document.getElementById('test').innerHTML="hello wrold";
      // google.maps.event.addDomListener(window,'load',initialize);
      initialize();
      document.getElementById('test').innerHTML="helloo";
      function initialize() {
        var latLng = new google.maps.LatLng({lat: 11.575826, lng: 104.922816});

        var map = new google.maps.Map(document.getElementById('map_canvas'), {
          zoom: 7,
          center: latLng,
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });

        marker = new google.maps.Marker({
          position: latLng,
          draggable: true,
          zIndex: 1,
          map: map,
          optimized: false
        });
        // document.getElementById('test').innerHTML=marker.position;
//Add listener
google.maps.event.addListener(marker,'click',function (event) {
  document.getElementById('test').innerHTML=this.position;
});
        // var label = new Label({
        //   map: map
        // });
        // alert('5');
        // label.bindTo('position', marker);
        // label.bindTo('text', marker, 'position');
        // label.bindTo('visible', marker);
        // label.bindTo('clickable', marker);
        // label.bindTo('zIndex', marker);
        // alert('5');

        // google.maps.event.addListener(marker, 'click', function() { alert('Marker has been clicked'); })
        // google.maps.event.addListener(label, 'click', function() { alert('Label has been clicked'); })


        // var autocomplete = new google.maps.places.autocomplete(document.getElementById('txtautocomplete'));
        // google.maps.events.addListener(autocomplete,'plac_changed',function(){
        //   var places = autocomplete.getplace();
        //   var location = "location:"+places.formatted_address+"<br>";
        //   location+="latitude:"+places.geometry.location.A+"<br>";
        //   location+="longitude:"+places.geometry.location.F+"br";
        //   document.getElementById('lblresult').innerHTML=location;
        // });

      }

      function showHideMarker() {
        marker.setVisible(!marker.getVisible());
      }


      function pinUnpinMarker() {
        var draggable = marker.getDraggable();
        marker.setDraggable(!draggable);
        marker.setClickable(!draggable);
      }
    </script>
  </body>
</html>